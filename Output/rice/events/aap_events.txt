
namespace = additional_ascension_perk

country_event = {
	id = additional_ascension_perk.1
	is_triggered_only = yes
	hide_window = yes
	
	immediate = {
		every_owned_leader = {
			limit = {
				NOT = { has_trait = leader_trait_curator }
			}
			make_dust_enchanted = yes
		}
		every_pool_leader = {
			limit = {
				NOT = { has_trait = leader_trait_curator }
			}
			make_dust_enchanted = yes
		}
	}
}

# New Leaders Get Dust Trait
country_event = {
	id = additional_ascension_perk.2
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		has_ascension_perk = ap_custom_dust_of_endless
		from = {
			NOT = { has_trait = leader_trait_curator }
		}
	}

	immediate = {
		from = {
			make_dust_enchanted = yes
		}
	}
}

# Ruler gets normal class trait if one hasn't been assigned
country_event = {
	id = additional_ascension_perk.3
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		OR = {
			AND = {
				has_ascension_perk = ap_custom_dust_of_endless
				from = {
					NOT = { has_trait = leader_trait_curator }
				}
			}
			from = {
				has_ruler_trait = trait_dust_enchanted_ruler
			}
		}
	}

	immediate = {
		from = {
			make_dust_enchanted = yes
		}
	}
}
